<div class="container-fluid" layout="column"> 
	<md-tabs  md-selected="tCtrl.currentTab"
		md-stretch-tabs="always" class="height100perc">
		<md-tab label="Start">
			<md-content class="md-padding pad50">
				<div layout="row" class="mrg50t">
					<div layout="column" flex="100" layout-align="center center">
						<h1 class="blue-grey">Help us!</h1>
					</div>
				</div>
				<div layout="row" class="mrg20t center-align">
					<div layout="column" flex="100" layout-align="center center">
						<i class="size-128 icon-scoreboard"></i>
					</div>
				</div>
				<div layout="row" class="mrg20t">
					<div layout="column" flex="100" layout-align="center center" class="center-align">
						Thank you for landing here! Your contibution will be really valuable to us!<br>
						Here you are called to build a custom template for your game!
						<md-button aria-label="create template template" class="mrg20t md-accent md-raised" ng-click="tCtrl.currentTab = 1">
							Let's start!
						</md-button>
					</div>
				</div>
			</md-content>
		</md-tab>
		<md-tab label="Select a game" ng-disabled="tCtrl.currentTab < 1">
			<md-content class="md-padding">
				<div layout="row">
					<div layout="column" flex="100">
						<md-autocomplete
							md-selected-item="tCtrl.selectedValues.boardgame"
							md-selected-item-change="tCtrl.getCurrentTemplates(tCtrl.selectedValues.boardgame)"
							md-search-text="tCtrl.boardgameSearchText"
							md-items="boardgame in tCtrl.querySearchBoardgames(tCtrl.boardgameSearchText)"
							md-item-text="boardgame.name"
							md-min-length="2"
							placeholder="Select a boardgame">
								<md-item-template>
									<md-list-item class="item-title">
										<img ng-src="{{boardgame.thumbnail}}?100" class="md-avatar" alt="{{boardgame.name}}" />
										<span  md-highlight-text="tCtrl.boardgameSearchText" md-highlight-flags="^i">{{boardgame.name}}</span>
									</md-list-item>
								</md-item-template>
								<md-not-found>
									No boardgame matching "{{tCtrl.boardgameSearchText}}" were found.
								</md-not-found>
						  </md-autocomplete>
					</div>
				</div>
				<div layout="row">
					<div layout="column" flex="100">
						<div layout="row" class="height75perc overflowScroll">
							<md-list flex ng-if="tCtrl.selectedValues.templates.length > 0">
								<md-list-item
									class=" md-1-line animate-repeat whiteBg mrg5t mrg5r shadowed-box" 
									ng-repeat-start="template in tCtrl.selectedValues.templates | orderBy:'-votes'"
									ng-click="tCtrl.setVisible($index)">
									<div layout="column" flex="50">
										<div layout="row">
											<h3 ng-if="template.name.length > 0">{{template.name}}</h3>

										</div>
									</div>
																
									<div layout="column" flex="50">
										<md-button ng-if="template.has_expansions" ng-disabled="true" class="md-primary">WITH EXPANSIONS</md-button>
									</div>
								</md-list-item>
								<md-list-item layout="row" ng-repeat-end ng-repeat="(key,scoring_field) in template.scoring_fields"  ng-if="template.visible"
								class="md-1-line animate-repeat whiteBg mrg5r shadowed-box">
									<div layout="column" flex="50">
										<div layout="row">
											{{scoring_field.name[lang]}}
										</div>
									</div>
									<div layout="column" flex="50" layout-align="center end">
										<div layout="row">
											points: {{scoring_field.bonus}}
										</div>
									</div>
								</md-list-item>
							</md-list>
							<div layout="column" flex="100" layout-align="center center" ng-if="tCtrl.selectedValues.templates.length == 0">
								<h2 class="blue-grey">No template to show!</h2>
							</div>
						</div>
						<div layout="row" class="mrg20t" layout-align="end center">
							<md-button aria-label="add template" class="md-accent md-raised" ng-click="tCtrl.currentTab = 2">
								Add new template
							</md-button>
						</div>
					</div>
				</div>
			</md-content>
		</md-tab>
		<md-tab label="Build your template" ng-disabled="tCtrl.currentTab < 2">
			<md-content class="md-padding">
				<div class="md-dialog-content">
					<div layout="row" class="size-16 blue-grey pad50">
						<md-input-container layour="column" flex=100>
							<label class="size-18">Template name</label>
							<input  ng-model="tCtrl.name">
						</md-input-container>
					</div>
					<div layout="row" class="size-16 blue-grey center-align" layout-align="center center">
						Here you can tell us all the possible ways to score points. 
						Next to each row you can tell how many points it is worth.<br>
						For example: each city in "Catan" scores 2 points.
					</div>

					<div layout="row" ng-repeat="i in tCtrl.range(0,tCtrl.countInsertedWords())" class="pad50">
						<div layout="column" flex="100">
							<div layout="row">
								<div layout="column" flex="50">
									<md-input-container class="templateEntryContainer md-block" >
										<label class="size-18">How do you score points?</label>
										<input  ng-model="tCtrl.dictionary[i]">
									</md-input-container>
								</div>
								<div layout="column" flex="45"  class="mrg10l">
									<md-slider ng-model="tCtrl.points[i]" min="-100" max="100"></md-slider>
								</div>
								<div layout="column" flex="5">
									<md-input-container class="detailedPointsContainer md-block" >
								 		<input type="number" ng-model="tCtrl.points[i]" aria-label="red" aria-controls="red-slider">
									</md-input-container>
								</div>
							</div>

						</div>
					</div>
				</div>

				<div layout="column" flex>
					<div layout="row" layout-align="end center">
						<md-button ng-disabled="mdCdtl.saving" aria-label="post match" class="md-fab size-24" ng-click="tCtrl.postTemplate()">
							<div layout="column" class="pad3l pad2b" flex layout-align="center center">
								<div layout="row" class="icon-check-2" aria-hidden="true" >
								</div>
							</div>
						</md-button>
						
					</div>
				</div>
			</md-content>
		</md-tab>
		<md-tab label="End" ng-disabled="tCtrl.currentTab < 3">
			<md-content class="md-padding">
				<div layout="row" class="mrg50t">
					<div layout="column" flex="100" layout-align="center center">
						<h1 class="blue-grey">Thank you!</h1>
					</div>
				</div>
				<div layout="row" class="mrg20t center-align">
					<div layout="column" flex="100" layout-align="center center">
						<i class="size-128 icon-fi-dancing-people"></i>
					</div>
				</div>
				<div layout="row" class="mrg20t center-align">
					<div layout="column" flex="100" layout-align="center center">
						You have successfully created your template!<br>
						Now you can go and use it to score your matches!<br>
						Remember to upvote it!
						<md-button aria-label="create template template" class="mrg20t md-accent md-raised" ng-click="tCtrl.currentTab = 1">
							Let's start!
						</md-button>
					</div>
				</div>
			</md-content>
		</md-tab>
	</md-tabs>
</div>