<div class="container-fluid" layout="column">
	<md-tabs  md-selected="tCtrl.currentTab"
		md-stretch-tabs="always" class="height100perc">
		<md-tab label="Start">
			<md-content class="md-padding pad50">
				<div layout="row" class="mrg50t">
					<div layout="column" flex="100" layout-align="center center">
						<h1 class="blue-grey">Help us!</h1>
					</div>
				</div>
				<div layout="row" class="mrg20t center-align">
					<div layout="column" flex="100" layout-align="center center">
						<i class="size-128 icon-scoreboard"></i>
					</div>
				</div>
				<div layout="row" class="mrg20t">
					<div layout="column" flex="100" layout-align="center center" class="center-align">
						Thank you for landing here! Your contibution will be really valuable to us!<br>
						Here you are called to build a custom template for your game!
						<md-button aria-label="create template template" class="mrg20t md-accent md-raised" ng-click="tCtrl.currentTab = 1">
							Let's start!
						</md-button>
					</div>
				</div>
			</md-content>
		</md-tab>
		<md-tab label="Select a game">
			<md-content class="md-padding">
				<div layout="row">
					<div layout="column" flex="100">
						<md-autocomplete
							md-selected-item="tCtrl.selectedValues.boardgame"
							md-selected-item-change="tCtrl.getCurrentTemplates(boardgame)"
							md-search-text="tCtrl.boardgameSearchText"
							md-items="boardgame in tCtrl.querySearchBoardgames(tCtrl.boardgameSearchText)"
							md-item-text="boardgame.display"
							md-min-length="2"
							placeholder="Select a boardgame">
								<md-item-template>
									<md-list-item class="item-title">
										<img ng-src="{{boardgame.thumbnail}}?100" class="md-avatar" alt="{{boardgame.display}}" />
										<span  md-highlight-text="tCtrl.boardgameSearchText" md-highlight-flags="^i">{{boardgame.display}}</span>
									</md-list-item>
								</md-item-template>
								<md-not-found>
									No boardgame matching "{{tCtrl.boardgameSearchText}}" were found.
								</md-not-found>
						  </md-autocomplete>
					</div>
				</div>
				<div layout="row">
					<div layout="column" flex="100">
						<div layout="row" class="height75perc overflowScroll">
							<md-list flex ng-if="!tCtrl.adding">
								<md-list-item
									class=" md-1-line animate-repeat whiteBg mrg5t mrg5r shadowed-box" 
									ng-repeat-start="template in tCtrl.selectedValues.templates | orderBy:'-votes'"
									ng-click="tCtrl.setVisible(template.pk)">
									<div layout="column" flex="50">
										<div layout="row">
											<h3>Template {{$index+1}}</h3>
										</div>
									</div>
																
									<div layout="column" flex="50">
										<md-button ng-if="template.hasExpansions" ng-disabled="true" class="md-primary">WITH EXPANSIONS</md-button>
									</div>
								</md-list-item>
								<md-list-item layout="row" ng-repeat-end ng-repeat="scoringField in template.scoringField_details"  ng-if="template.visible"
								class="md-1-line animate-repeat whiteBg mrg5r shadowed-box">
									<div layout="row">
										{{scoringField.word_value}}
									</div>
								</md-list-item>
							</md-list>
						</div>
						<div layout="row" class="mrg20t" layout-align="end center">
							<md-button aria-label="add template" class="md-accent md-raised" ng-click="tCtrl.currentTab = 2">
								Add new template
							</md-button>
						</div>
					</div>
				</div>
			</md-content>
		</md-tab>
		<md-tab label="Build your template">
			<md-content class="md-padding">
				<div class="md-dialog-content pad50">
					<div layout="row" class="size-16 blue-grey center-align" layout-align="center center">
						Here you can tell us all the possible ways to score points. 
						Next to each row you can tell how many points it is worth.<br>
						For example: each city in "Catan" scores 2 points.
					</div>

					<div layout="row" ng-repeat="i in tCtrl.range(0,tCtrl.countInsertedWords())" class="mrg20t height80">
						<div class="column" flex="50" layout-align="center start">
							<md-autocomplete 
								md-selected-item="tCtrl.selectedValues.dictionary[i]"
								md-search-text="tCtrl.dictionarySearchText[i]"
								md-items="dict in tCtrl.querySearchWord(tCtrl.dictionarySearchText[i]) | orderBy:'display'"
								md-select-on-match= "true"
								md-item-text="dict.display"
								md-min-length="0"
								md-autofocus = "false"
								placeholder="Select a field or type a new one">
									<md-item-template>
									  <span md-highlight-text="tCtrl.dictionarySearchText[i]" md-highlight-flags="^i">{{dict.display}}</span>
									</md-item-template>
									<md-not-found>
									  No word matching "{{tCtrl.dictionarySearchText[i]}}" were found.
									</md-not-found>
							</md-autocomplete>
						</div>
						<div class="column" flex="50" class="mrg10l">
							<div layout="row"  class="mrg10l">
								<div layout="column" flex="90"  class="mrg10l">
									<md-slider ng-model="tCtrl.points[i]" min="-100" max="100"></md-slider>
								</div>
								<div layout="column" flex="10">
									<md-input-container class="detailedPointsContainer md-block" >
								 		<input type="number" ng-model="tCtrl.points[i]" aria-label="red" aria-controls="red-slider">
									</md-input-container>
								</div>
							</div>	
						</div>
					</div>
				</div>

				<div layout="column" flex>
					<div layout="row" layout-align="end center">
						<md-button ng-disabled="mdCdtl.saving" aria-label="post match" class="md-fab size-24" ng-click="tCtrl.createTemplate()">
							<div layout="column" class="pad3l pad2b" flex layout-align="center center">
								<div layout="row" class="icon-check-2" aria-hidden="true" >
								</div>
							</div>
						</md-button>
						
					</div>
				</div>
			</md-content>
		</md-tab>
		<md-tab label="End">
			<md-content class="md-padding">
				<div layout="row" class="mrg50t">
					<div layout="column" flex="100" layout-align="center center">
						<h1 class="blue-grey">Thank you!</h1>
					</div>
				</div>
				<div layout="row" class="mrg20t center-align">
					<div layout="column" flex="100" layout-align="center center">
						<i class="size-128 icon-fi-dancing-people"></i>
					</div>
				</div>
				<div layout="row" class="mrg20t center-align">
					<div layout="column" flex="100" layout-align="center center">
						You have successfully created your template!<br>
						Now you can go and use it to score your matches!<br>
						Remember to upvote it!
						<md-button aria-label="create template template" class="mrg20t md-accent md-raised" ng-click="tCtrl.currentTab = 1">
							Let's start!
						</md-button>
					</div>
				</div>
			</md-content>
		</md-tab>
	</md-tabs>
</div>